{% extends "taller/base.html"%}

{% load static %}

{% block css %}

<link rel="stylesheet" href="{% static 'css/carrito.css' %}">

{% endblock %}


{% block body %}



{% if productos_carrito %}

<div class="container text-center mt-5">
    <div  id="containerCarrito" class="container mt-3">
        <div class="row" id="rowTitulos">
            <div class="col">
                <strong>Imagen</strong> 
            </div>
            <div class="col">
                <strong>Producto</strong>
            </div>
            <div class="col">
                <strong>Precio</strong>
            </div>
            <div class="col">
                <strong>Cantidad</strong>
            </div>
        </div>
        
        <!--Falta agregar los productos, pero funciona-->
        {% for p in productos_carrito %}   
        <div class="row row-productos mt-2">
            <div class="col">
                <img class="img-carrito" src="{{p.imagenUrl.url}}" alt="p.nombre_producto">
            </div>
            <div class="col">
                <p>{{p.nombre_producto}}</p>
            </div>
            <div class="col">
                <p>{{p.precio}}</p>
            </div>
            <div class="col">
                <strong>Cantidad</strong>
            </div>
        </div>
        {% endfor %} 


    </div>



    <hr>

    <div class="row mt-2">
        <div class="col col-md-6">
            <p>Total a pagar: </p> 
        </div>
        <div class="col col-md-6">
            <p value="0" id="totalPagar"> </p>
        </div>
        

        {% if user.is_authenticated%}

        <div class="col col-md-12 mt-2">
            <a id="btnComprar" href="{% url 'realizarCompra' %}" class="btn btn-primary w-50" data-csrf-token="{{ csrf_token }}" tabindex="-1" role="button" aria-disabled="true">Realizar compra</a>
        </div>
        {% else %}
        
            <a href="{% url 'login' %}" class="btn btn-primary w-50" tabindex="-1" role="button" aria-disabled="true">Iniciar sesion para confirmar</a>
        {% endif %}
    </div>

{% else %}

<p>No has agregado nada</p>

{% endif %}





{% endblock %}

{% block script %}




{% endblock %}

